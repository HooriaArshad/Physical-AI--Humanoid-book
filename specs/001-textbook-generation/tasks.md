# Tasks: Textbook Generation

**Input**: Design documents from `/specs/001-textbook-generation/`
**Prerequisites**: plan.md, spec.md, research.md, data-model.md, contracts/

**Tests**: No test tasks included (TDD not explicitly requested in specification)

**Organization**: Tasks grouped by user story to enable independent implementation and testing

## Format: `[ID] [P?] [Story] Description`

- **[P]**: Can run in parallel (different files, no dependencies)
- **[Story]**: Which user story (US1, US2, US3, US4)
- Exact file paths included in descriptions

## Path Conventions

**Web application structure**:
- Frontend: `docs/`, `src/components/`, `docusaurus.config.js`
- Backend: `backend/src/`, `backend/tests/`
- Scripts: `scripts/`
- CI/CD: `.github/workflows/`

---

## Phase 1: Setup (Shared Infrastructure)

**Purpose**: Project initialization and basic structure

- [ ] T001 Create frontend directory structure (docs/, docs/chapters/, docs/assets/images/, src/components/, src/css/)
- [ ] T002 Create backend directory structure (backend/src/, backend/src/api/, backend/src/services/, backend/src/utils/, backend/tests/)
- [ ] T003 Create scripts directory (scripts/)
- [ ] T004 Initialize Node.js project with package.json (Docusaurus 3.x, React 18, TypeScript 5.0)
- [ ] T005 [P] Initialize Python project with backend/requirements.txt (FastAPI 0.109+, sentence-transformers 2.3+, qdrant-client 1.7+, psycopg2 2.9+, uvicorn, pydantic)
- [ ] T006 [P] Create .env.example template with Qdrant URL/API key, Neon DATABASE_URL, CORS origins placeholders
- [ ] T007 [P] Create .gitignore (node_modules/, .env, backend/venv/, build/, __pycache__/, *.pyc)
- [ ] T008 [P] Configure markdownlint with .markdownlintrc (rules for headings, line length, list formatting)
- [ ] T009 [P] Create README.md with project overview, tech stack (Docusaurus, FastAPI, Qdrant, Neon), and quickstart link

---

## Phase 2: Foundational (Blocking Prerequisites)

**Purpose**: Core infrastructure that MUST be complete before ANY user story can be implemented

**‚ö†Ô∏è CRITICAL**: No user story work can begin until this phase is complete

### Frontend Foundation

- [ ] T010 Configure docusaurus.config.js with site metadata (title: "Physical AI & Humanoid Robotics ‚Äî Essentials", url, baseUrl, favicon)
- [ ] T011 Configure sidebars.js with autogenerated sidebar ({type: 'autogenerated', dirName: 'chapters'})
- [ ] T012 Create src/css/custom.css with base styles and theme variables
- [ ] T013 [P] Add TypeScript configuration (tsconfig.json) for React components

### Backend Foundation

- [ ] T014 Create backend/src/config.py to load environment variables (Qdrant URL/API key, Neon DATABASE_URL, embedding model name, CORS origins)
- [ ] T015 Create backend/src/main.py with FastAPI app initialization, CORS middleware, and health check placeholder
- [ ] T016 Create backend/src/api/models.py with Pydantic models (QueryRequest, QueryResponse, Citation, ErrorResponse, HealthResponse)
- [ ] T017 [P] Create backend/src/services/database.py with Neon PostgreSQL connection pool and context manager
- [ ] T018 [P] Create backend/src/services/vectorstore.py with Qdrant client initialization and connection test
- [ ] T019 [P] Create backend/src/services/embeddings.py to load sentence-transformers model (all-MiniLM-L6-v2) on startup

### Database Setup

- [ ] T020 Create scripts/setup_database.py to create Neon tables (chapters, sections, embeddings_metadata, queries, responses) per data-model.md SQL schema
- [ ] T021 Create scripts/setup_qdrant.py to create Qdrant collection (textbook_embeddings, 384 dims, Cosine distance)

### Utilities

- [ ] T022 Create backend/src/utils/chunk.py with markdown chunking function (300-500 words per chunk, 50-word overlap, preserve H2/H3 headings)
- [ ] T023 Create backend/src/utils/citations.py with citation formatting functions (extract chapter/section from chunk metadata, generate citation URLs)

**Checkpoint**: Foundation ready - user story implementation can now begin in parallel

---

## Phase 3: User Story 1 + 4 - MVP (Read Textbook + Auto Sidebar) (Priority: P1) üéØ

**Goal**: Students can read 6 chapters with auto-generated sidebar navigation

**Independent Test**: Deploy static site, navigate through chapters via sidebar, verify all pages load correctly without broken links

### US1: Textbook Content Creation

- [ ] T024 [P] [US1] Create docs/intro.md as landing page (welcome message, textbook overview, 6-chapter structure, estimated reading time)
- [ ] T025 [P] [US1] Create docs/chapters/01-physical-ai.md with frontmatter (title, sidebar_position: 1) and H2/H3 structure (What is Physical AI?, Key Concepts, Applications)
- [ ] T026 [P] [US1] Create docs/chapters/02-humanoid-robotics.md with frontmatter (title, sidebar_position: 2) and H2/H3 structure (Robot Morphology, Degrees of Freedom, Actuation)
- [ ] T027 [P] [US1] Create docs/chapters/03-ros2-fundamentals.md with frontmatter (title, sidebar_position: 3) and H2/H3 structure (ROS 2 Overview, Installation, Publishers/Subscribers, Services/Actions)
- [ ] T028 [P] [US1] Create docs/chapters/04-digital-twin.md with frontmatter (title, sidebar_position: 4) and H2/H3 structure (Digital Twin Concept, Gazebo Simulation, Isaac Sim)
- [ ] T029 [P] [US1] Create docs/chapters/05-vla-systems.md with frontmatter (title, sidebar_position: 5) and H2/H3 structure (Vision-Language Models, Action Policies, End-to-End Training)
- [ ] T030 [P] [US1] Create docs/chapters/06-capstone.md with frontmatter (title, sidebar_position: 6) and H2/H3 structure (Project Overview, Pipeline Design, Integration, Testing)

### US1: Build and Validation

- [ ] T031 [US1] Install Docusaurus dependencies (npm install from repository root)
- [ ] T032 [US1] Run local Docusaurus dev server (npm start) and verify all 6 chapters render correctly
- [ ] T033 [US1] Test sidebar navigation (click each chapter, verify sections expand/collapse, check current page highlighting)
- [ ] T034 [US1] Test responsive layout on mobile/tablet screen sizes (320px-1920px)
- [ ] T035 [US1] Run markdownlint on docs/chapters/*.md and fix any linting errors
- [ ] T036 [US1] Build production site (npm run build) and verify build completes in <2 minutes with exit code 0
- [ ] T037 [US1] Serve built site locally (npm run serve) and verify all internal links resolve correctly (no 404 errors)

**Checkpoint**: At this point, textbook website is fully functional with all 6 chapters and auto-sidebar

---

## Phase 4: User Story 2 - RAG Chatbot (Priority: P2)

**Goal**: Students can ask questions and receive accurate answers sourced only from textbook with citations

**Independent Test**: Open chatbot, ask "What is Physical AI?", receive answer with citation to Chapter 1

### US2: Database Ingestion Pipeline

- [ ] T038 [US2] Create scripts/ingest_chapters.py skeleton with CLI arguments (--update flag, --dry-run flag)
- [ ] T039 [US2] Implement markdown parsing in ingest_chapters.py (read docs/chapters/*.md, extract frontmatter, parse H1/H2/H3 headings, split into sections)
- [ ] T040 [US2] Implement chapter/section insertion in ingest_chapters.py (insert into Neon chapters and sections tables, use data from frontmatter and headings)
- [ ] T041 [US2] Implement text chunking in ingest_chapters.py (call chunk.py utility, generate 300-500 word chunks with 50-word overlap, preserve heading context)
- [ ] T042 [US2] Implement batch embedding generation in ingest_chapters.py (call embeddings.py service, batch process chunks in groups of 100, track progress)
- [ ] T043 [US2] Implement Qdrant insertion in ingest_chapters.py (insert vectors into Qdrant collection, store payload with chunk_id, chapter_id, section_id, chunk_text, metadata)
- [ ] T044 [US2] Implement Neon metadata insertion in ingest_chapters.py (insert into embeddings_metadata table, store qdrant_point_id mapping)
- [ ] T045 [US2] Run scripts/setup_database.py to create Neon tables
- [ ] T046 [US2] Run scripts/setup_qdrant.py to create Qdrant collection
- [ ] T047 [US2] Run scripts/ingest_chapters.py to embed all 6 chapters (verify ~500-1000 chunks created, <15 seconds total time)

### US2: RAG Service Implementation

- [ ] T048 [P] [US2] Implement embedding query function in backend/src/services/embeddings.py (accept text string, return 384-dim vector, <500ms latency)
- [ ] T049 [P] [US2] Implement vector search function in backend/src/services/vectorstore.py (query Qdrant with vector, return top 3-5 chunks with scores, <200ms latency)
- [ ] T050 [P] [US2] Implement metadata fetch function in backend/src/services/database.py (query Neon for chapter/section details given chunk IDs)
- [ ] T051 [US2] Create backend/src/services/rag.py with RAG orchestration (1. embed query, 2. search Qdrant, 3. fetch metadata, 4. format response with citations, 5. detect out-of-scope queries)
- [ ] T052 [US2] Implement out-of-scope detection in rag.py (confidence threshold <0.3, return refusal message "I can only answer questions based on the textbook content")
- [ ] T053 [US2] Implement citation generation in rag.py (use citations.py utility, format as [{chapter, section, url}], ensure all responses have >=1 citation)

### US2: API Endpoint Implementation

- [ ] T054 [US2] Create backend/src/api/routes.py with /api/query POST endpoint (accept QueryRequest, call rag.py, return QueryResponse)
- [ ] T055 [US2] Implement rate limiting in routes.py (10 requests per minute per IP hash, return 429 error if exceeded)
- [ ] T056 [US2] Implement error handling in routes.py (catch embedding errors, Qdrant errors, Neon errors, return appropriate ErrorResponse)
- [ ] T057 [US2] Create /api/health GET endpoint in routes.py (check embedding model loaded, Qdrant connected, Neon connected, return HealthResponse)
- [ ] T058 [US2] Register routes in backend/src/main.py (include routes.router with /api prefix)
- [ ] T059 [US2] Add query/response logging in routes.py (insert into Neon queries and responses tables, track latency_ms and status)

### US2: Frontend Chatbot UI

- [ ] T060 [P] [US2] Create src/components/ChatbotWidget/index.tsx with chatbot button (floating button bottom-right, opens chat interface on click)
- [ ] T061 [P] [US2] Create src/components/ChatbotWidget/ChatInterface.tsx with message UI (input field, send button, message history, loading indicator, citation links)
- [ ] T062 [P] [US2] Create src/components/ChatbotWidget/styles.module.css with responsive styling (mobile-friendly, accessible colors, smooth animations)
- [ ] T063 [US2] Implement API integration in ChatInterface.tsx (POST to /api/query, handle loading state, display response with citations, handle errors)
- [ ] T064 [US2] Implement citation link handling in ChatInterface.tsx (render citations as clickable links, navigate to chapter section on click)
- [ ] T065 [US2] Add ChatbotWidget to Docusaurus layout (import in src/theme/Root.tsx or docusaurus.config.js plugins)

### US2: Backend Testing and Validation

- [ ] T066 [US2] Start FastAPI backend locally (uvicorn backend.src.main:app --reload, verify startup logs show model loaded, Qdrant connected, Neon connected)
- [ ] T067 [US2] Test /api/health endpoint (curl http://localhost:8000/api/health, verify status: "healthy")
- [ ] T068 [US2] Test /api/query with in-scope question (curl with {"question": "What is Physical AI?"}, verify answer contains textbook content and citations)
- [ ] T069 [US2] Test /api/query with out-of-scope question (curl with {"question": "What is the weather?"}, verify refusal message returned)
- [ ] T070 [US2] Create scripts/validate_embeddings.py with 20+ test queries (mix of in-scope and out-of-scope)
- [ ] T071 [US2] Run scripts/validate_embeddings.py and verify >90% retrieval accuracy for in-scope queries, 100% refusal for out-of-scope

### US2: End-to-End Integration Testing

- [ ] T072 [US2] Start both frontend (npm start) and backend (uvicorn) locally
- [ ] T073 [US2] Test chatbot from browser (open http://localhost:3000, click chatbot button, ask "What is ROS 2?", verify answer with citation)
- [ ] T074 [US2] Test citation navigation (click citation link in chatbot response, verify browser navigates to correct chapter section)
- [ ] T075 [US2] Test error handling (stop backend server, ask question, verify user-friendly error message displayed)
- [ ] T076 [US2] Measure end-to-end latency (ask 10 questions, verify all responses <2 seconds)

**Checkpoint**: At this point, RAG chatbot is fully functional, answering questions with citations from textbook

---

## Phase 5: User Story 3 - Text Selection Feature (Priority: P3)

**Goal**: Students can select any text and immediately ask AI about it

**Independent Test**: Highlight "sensor fusion" in Chapter 5, click "Ask AI" button, chatbot opens with pre-filled context

### US3: Text Selection UI Component

- [ ] T077 [P] [US3] Create src/components/TextSelection/index.tsx with selection detection (listen for mouseup event, call window.getSelection())
- [ ] T078 [P] [US3] Create src/components/TextSelection/SelectionPopup.tsx with floating button (display "Ask AI" button near selection, position dynamically)
- [ ] T079 [P] [US3] Create src/components/TextSelection/styles.module.css with button styling (small button, hover effects, mobile-friendly touch target)
- [ ] T080 [US3] Implement selection validation in index.tsx (check selection length >3 chars, <200 words, ignore selections in code blocks or navigation)
- [ ] T081 [US3] Implement button click handler in index.tsx (extract selected text, format as "Tell me more about [selected text]", pass to ChatbotWidget)
- [ ] T082 [US3] Add keyboard shortcut in index.tsx (Ctrl+Shift+A to trigger Ask AI on current selection, announce in ARIA)
- [ ] T083 [US3] Integrate with ChatbotWidget in index.tsx (call ChatbotWidget.openWithQuery(text), pre-fill chatbot input field)

### US3: Integration and Testing

- [ ] T084 [US3] Add TextSelection component to Docusaurus layout (wrap chapter content in TextSelection provider)
- [ ] T085 [US3] Test text selection on desktop (highlight text in Chapter 1, verify "Ask AI" button appears, click button, verify chatbot opens with pre-filled query)
- [ ] T086 [US3] Test text selection on mobile (long-press text, verify button appears with touch-friendly size, tap button, verify chatbot opens)
- [ ] T087 [US3] Test keyboard shortcut (select text, press Ctrl+Shift+A, verify chatbot opens)
- [ ] T088 [US3] Test edge cases (select very long text, verify truncation to 200 words; select text in code block, verify no button appears)

**Checkpoint**: At this point, text selection feature is fully functional and enhances RAG chatbot UX

---

## Phase 6: Deployment (Frontend + Backend)

**Purpose**: Deploy textbook to GitHub Pages and backend to free-tier hosting

### Frontend Deployment (GitHub Pages)

- [ ] T089 Create .github/workflows/deploy.yml with GitHub Actions workflow (on push to main: setup Node.js 18, npm install, npm run build, deploy to gh-pages branch using peaceiris/actions-gh-pages@v3)
- [ ] T090 Update docusaurus.config.js with correct url and baseUrl for GitHub Pages (url: https://<username>.github.io, baseUrl: /<repo-name>/)
- [ ] T091 Enable GitHub Pages in repository settings (Settings ‚Üí Pages, source: gh-pages branch, save)
- [ ] T092 Push to main branch and verify GitHub Actions workflow runs successfully
- [ ] T093 Access deployed site at https://<username>.github.io/<repo-name>/ and verify all pages load correctly
- [ ] T094 Test chatbot on deployed site (verify API URL points to production backend, not localhost)

### Backend Deployment (Render)

- [ ] T095 Create render.yaml in repository root (define web service: name, runtime: python, buildCommand: pip install -r backend/requirements.txt, startCommand: uvicorn backend.src.main:app --host 0.0.0.0 --port $PORT)
- [ ] T096 Add environment variables to render.yaml (QDRANT_URL, QDRANT_API_KEY, DATABASE_URL, CORS_ORIGINS with GitHub Pages URL)
- [ ] T097 Create Render account and connect GitHub repository (New ‚Üí Web Service, connect repo, auto-detect render.yaml)
- [ ] T098 Configure environment secrets in Render dashboard (add Qdrant API key, Neon connection string from .env.example)
- [ ] T099 Deploy backend to Render (click "Create Web Service", wait for build, verify deployment success)
- [ ] T100 Test production backend (curl https://<app-name>.onrender.com/api/health, verify status: "healthy")
- [ ] T101 Update frontend API URL in src/components/ChatbotWidget/ChatInterface.tsx (use https://<app-name>.onrender.com for production)
- [ ] T102 Rebuild and redeploy frontend with updated backend URL

### End-to-End Production Testing

- [ ] T103 Visit production site (https://<username>.github.io/<repo-name>/) and navigate through all 6 chapters
- [ ] T104 Test chatbot on production (ask 5+ questions, verify all receive answers with citations within 2 seconds)
- [ ] T105 Test text selection on production (highlight text, click "Ask AI", verify chatbot opens with pre-filled query)
- [ ] T106 Test on mobile device (verify responsive layout, chatbot usable, text selection works)
- [ ] T107 Run Lighthouse audit (verify Performance >80, Accessibility >90, Best Practices >80, SEO >80)

**Checkpoint**: At this point, textbook is fully deployed and accessible to students worldwide

---

## Phase 7: Polish & Cross-Cutting Concerns

**Purpose**: Final quality improvements and validation

### Performance Optimization

- [ ] T108 [P] Optimize images in docs/assets/images/ (compress to <200KB each using imagemin or similar)
- [ ] T109 [P] Enable Docusaurus build caching (verify package.json has docusaurus clear and build:fast scripts)
- [ ] T110 Profile Docusaurus build time (npm run build --profile, identify slow plugins or pages)
- [ ] T111 Implement request caching in backend (add simple in-memory cache for frequent queries, 5-minute TTL)

### Documentation

- [ ] T112 [P] Update README.md with deployment instructions (link to quickstart.md, add production URLs, add contributing guidelines)
- [ ] T113 [P] Create CONTRIBUTING.md with guidelines for adding new chapters (markdown format, frontmatter requirements, sidebar position)
- [ ] T114 [P] Add inline code comments in backend/src/services/rag.py (explain RAG orchestration steps, citation generation logic)

### Testing and Validation

- [ ] T115 Run full regression test suite (verify all 20+ test queries in validate_embeddings.py still pass >90%)
- [ ] T116 Verify constitution compliance (check all 7 principles: Simplicity, Accuracy, Minimalism, Free-Tier, Fast Builds, RAG Integrity, Testing)
- [ ] T117 Verify free-tier usage (check Qdrant dashboard <1GB storage, Neon dashboard <0.5GB storage, Render dashboard <750 hours/month compute)
- [ ] T118 Run accessibility audit with axe DevTools (verify WCAG AA compliance, fix any critical issues)
- [ ] T119 Test keyboard navigation (Tab through all interactive elements, Enter to activate, Esc to close chatbot)
- [ ] T120 Validate all internal links (run link checker on deployed site, fix any broken links)

### CI/CD Enhancement

- [ ] T121 [P] Create .github/workflows/lint.yml for markdown linting (on PR: run markdownlint on docs/**/*.md, fail if errors)
- [ ] T122 [P] Create .github/workflows/backend-test.yml for backend tests (on PR: setup Python, pip install, run pytest backend/tests/, fail if <90% coverage)
- [ ] T123 Add build time monitoring to deploy.yml (log start/end times, fail if build >2 minutes)

**Checkpoint**: All quality gates passed, textbook ready for production use

---

## Phase 8: Optional Enhancements (P4/P5 - Future Work)

**Purpose**: Optional features for future iterations (NOT required for MVP)

### User Story 5 - Urdu Translation (Priority: P4 - Optional)

- [ ] TXXX [US5] Research Docusaurus i18n plugin (review docs, identify configuration steps)
- [ ] TXXX [US5] Configure i18n in docusaurus.config.js (add locales: ['en', 'ur'], defaultLocale: 'en')
- [ ] TXXX [US5] Create i18n/ directory with Urdu translations (i18n/ur/docusaurus-plugin-content-docs/current/)
- [ ] TXXX [US5] Translate all 6 chapters to Urdu (maintain parallel markdown files, preserve code examples in English)
- [ ] TXXX [US5] Add language switcher to navbar (Docusaurus built-in, configure in themeConfig)
- [ ] TXXX [US5] Implement Urdu query support in RAG backend (detect language, search Urdu embeddings collection, respond in Urdu)

### User Story 6 - Personalized Welcome (Priority: P5 - Optional)

- [ ] TXXX [US6] Create dynamic welcome component (src/components/Welcome/index.tsx)
- [ ] TXXX [US6] Implement welcome content generation (chapter summaries, estimated reading times, learning path suggestions)
- [ ] TXXX [US6] Add welcome component to homepage (render above intro.md content)
- [ ] TXXX [US6] Implement "first-time visitor" detection (localStorage or cookie, show welcome modal on first visit)

---

## Dependencies & Execution Order

### Phase Dependencies

- **Setup (Phase 1)**: No dependencies - can start immediately
- **Foundational (Phase 2)**: Depends on Setup completion - **BLOCKS all user stories**
- **User Stories (Phase 3-5)**: All depend on Foundational phase completion
  - Phase 3 (US1+US4, P1): Can start after Foundational ‚Üí **MVP COMPLETE**
  - Phase 4 (US2, P2): Can start after Foundational (independent of US1, but builds on it)
  - Phase 5 (US3, P3): Depends on US2 completion (integrates with ChatbotWidget)
- **Deployment (Phase 6)**: Depends on all desired user stories being complete (minimum US1+US4 for MVP)
- **Polish (Phase 7)**: Depends on Deployment completion
- **Optional (Phase 8)**: Future work, not required for MVP

### User Story Dependencies

- **US1+US4 (Read Textbook + Sidebar, P1)**: Can start after Foundational (Phase 2) ‚Üí **MVP**
- **US2 (RAG Chatbot, P2)**: Can start after Foundational, independent of US1 but enhances it
- **US3 (Text Selection, P3)**: Depends on US2 (integrates with ChatbotWidget from US2)
- **US5 (Urdu, P4 - Optional)**: Depends on US1 and US2 (translates content and queries)
- **US6 (Welcome, P5 - Optional)**: Independent, can start after Foundational

### Within Each User Story

- Models/schemas before services
- Services before API routes
- API routes before frontend integration
- Frontend components before layout integration
- All implementation before testing
- Testing before deployment

### Parallel Opportunities

**Setup Phase (Phase 1)**:
- Tasks T005-T009 can run in parallel (Python setup, .env, .gitignore, linting, README)

**Foundational Phase (Phase 2)**:
- Tasks T013, T017-T019, T022-T023 can run in parallel (TypeScript config, database/vectorstore/embeddings services, utilities)

**US1 Content Creation**:
- Tasks T024-T030 can run in parallel (all 6 chapters + intro page)

**US2 Ingestion Pipeline**:
- Tasks T048-T050 can run in parallel (embedding query, vector search, metadata fetch functions)

**US2 Frontend**:
- Tasks T060-T062 can run in parallel (chatbot button, chat interface, styles - different files)

**US3 Text Selection**:
- Tasks T077-T079 can run in parallel (selection detection, popup button, styles - different files)

**Polish Phase**:
- Tasks T108-T109, T112-T114, T121-T122 can run in parallel (images, docs, CI/CD - different files)

---

## Parallel Example: Phase 2 Foundational

```bash
# Launch foundational services in parallel:
Task T017: "Create backend/src/services/database.py"
Task T018: "Create backend/src/services/vectorstore.py"
Task T019: "Create backend/src/services/embeddings.py"
Task T022: "Create backend/src/utils/chunk.py"
Task T023: "Create backend/src/utils/citations.py"
```

---

## Implementation Strategy

### MVP First (US1+US4 Only) - Fastest Path to Value

1. Complete **Phase 1: Setup** (T001-T009)
2. Complete **Phase 2: Foundational** (T010-T023) ‚Üí **CRITICAL BLOCKER**
3. Complete **Phase 3: US1+US4** (T024-T037) ‚Üí **MVP COMPLETE** üéØ
4. **STOP and VALIDATE**: Deploy static site, verify all 6 chapters readable with sidebar navigation
5. Demo to stakeholders, gather feedback

**Result**: Functional textbook website in ~1-2 days

### Incremental Delivery - Add RAG Next

1. Complete MVP (Phases 1-3)
2. Add **Phase 4: US2 RAG Chatbot** (T038-T076) ‚Üí **AI-Native Textbook**
3. **STOP and VALIDATE**: Test chatbot answers with citations, verify accuracy >90%
4. Deploy to production

**Result**: AI-enhanced textbook with Q&A capability in ~3-5 days

### Full Feature Set - Add Text Selection

1. Complete MVP + RAG (Phases 1-4)
2. Add **Phase 5: US3 Text Selection** (T077-T088) ‚Üí **Enhanced UX**
3. **STOP and VALIDATE**: Test text-to-question flow on desktop and mobile
4. Complete **Phase 6: Deployment** (T089-T107)
5. Complete **Phase 7: Polish** (T108-T123)

**Result**: Production-ready textbook with all core features in ~5-7 days

### Parallel Team Strategy

With 3 developers (solo hackathon can follow sequential strategy above):

1. **Team completes Setup + Foundational together** (Phases 1-2, ~1 day)
2. **After Foundational done, split work**:
   - **Developer A**: Phase 3 (US1+US4 - Textbook Content)
   - **Developer B**: Phase 4 (US2 - RAG Backend + Ingestion)
   - **Developer C**: Phase 4 (US2 - RAG Frontend Chatbot UI)
3. **Merge and integrate** (US1 + US2 working together, ~3 days)
4. **Developer A**: Phase 5 (US3 - Text Selection)
5. **Developer B**: Phase 6 (Deployment)
6. **Developer C**: Phase 7 (Polish + Testing)
7. **Team validates together** (End-to-end testing, ~1 day)

**Result**: Full production system in ~4-5 days with parallel team

---

## Notes

- **[P] tasks**: Different files, no dependencies, safe to parallelize
- **[Story] labels**: Map task to user story for traceability (US1, US2, US3, US4)
- **MVP = Phase 1 + Phase 2 + Phase 3** (Setup + Foundational + US1+US4)
- **AI-Native = MVP + Phase 4** (Add RAG Chatbot)
- **Full Feature = AI-Native + Phase 5 + Phase 6 + Phase 7** (Add Text Selection + Deploy + Polish)
- **Optional = Phase 8** (Urdu translation, Personalized welcome - future work)
- Each user story independently testable at checkpoints
- Commit after each task or logical group
- Stop at any checkpoint to validate story independently
- Avoid: vague tasks, same file conflicts, blocking dependencies within parallelizable phases

---

## Task Summary

**Total Tasks**: 123 (excluding optional Phase 8)
- **Phase 1 (Setup)**: 9 tasks
- **Phase 2 (Foundational)**: 14 tasks
- **Phase 3 (US1+US4 - MVP)**: 14 tasks
- **Phase 4 (US2 - RAG)**: 39 tasks
- **Phase 5 (US3 - Text Selection)**: 12 tasks
- **Phase 6 (Deployment)**: 18 tasks
- **Phase 7 (Polish)**: 15 tasks
- **Phase 8 (Optional)**: 6 tasks (not counted in total)

**Parallel Opportunities**: 35+ tasks marked with [P] across all phases

**MVP Scope** (Recommended first milestone): Phases 1-3 (37 tasks, ~1-2 days solo)

**Production-Ready Scope**: Phases 1-7 (121 tasks, ~5-7 days solo or ~4-5 days with team of 3)

**Independent Test Criteria**:
- **US1+US4 (MVP)**: Navigate all 6 chapters via sidebar, verify responsive layout, no broken links
- **US2 (RAG)**: Ask 20+ questions, verify >90% accuracy, 100% out-of-scope refusal, <2s latency
- **US3 (Text Selection)**: Highlight text, click "Ask AI", verify chatbot opens with pre-filled query

---

**Tasks Status**: ‚úÖ Complete - Ready for implementation
